(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24741fea"],{5373:function(e,t,a){"use strict";a.r(t);var i=a("7a23"),n=a("b997"),r=a.n(n),s={class:"vh-100 d-flex justify-content-center align-items-center"},o={class:"card px-lg-7 px-3 bg-secondary border-2 shadow-gray rounded-0",style:{width:"56rem"}},c={class:"row py-lg-11"},l=Object(i["i"])("div",{class:"col-md-6 d-md-flex align-items-center justify-content-center d-none"},[Object(i["i"])("img",{src:r.a,alt:"signin",class:"img-fluid",draggable:"false"})],-1),d={class:"col-md-6"},m=Object(i["i"])("h1",{class:"mb-3 text-center text-primary metawall-logo"},"MetaWall",-1),b=Object(i["i"])("p",{class:"h4 mb-3 text-center"},"忘記密碼",-1),u={class:"form-group mb-3"},f={key:0,class:"text-danger text-center fs-7 mb-2 d-block"},p=Object(i["i"])("div",{class:"d-grid gap-2 mb-2"},[Object(i["i"])("button",{type:"submit",class:"btn btn-primary shadow-black rounded-3"}," 送出 ")],-1),g={class:"form-group mb-3"},j={key:0,class:"form-group mb-3"},O={key:1,class:"text-danger text-center fs-7 mb-2 d-block"},h=Object(i["i"])("div",{class:"d-grid gap-2 mb-2"},[Object(i["i"])("button",{type:"submit",class:"btn btn-primary shadow-black rounded-3"}," 送出 ")],-1);function v(e,t,a,n,r,v){var y=Object(i["H"])("Field"),w=Object(i["H"])("error-message"),k=Object(i["H"])("Form");return Object(i["y"])(),Object(i["h"])("section",s,[Object(i["i"])("div",o,[Object(i["i"])("div",c,[l,Object(i["i"])("div",d,[m,b,r.sendEmail?(Object(i["y"])(),Object(i["f"])(k,{key:1,class:"needs-validation",onSubmit:v.verification},{default:Object(i["T"])((function(e){var a=e.errors;return[Object(i["i"])("div",g,[Object(i["l"])(y,{type:"email",class:Object(i["s"])(["form-control font-azeret",{"is-invalid":a["email"]}]),id:"userEmail",name:"email",placeholder:"Email",required:"",modelValue:r.info.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.info.email=e}),rules:"email|required",disabled:r.sendEmail},null,8,["class","modelValue","disabled"]),Object(i["l"])(w,{name:"email",class:"invalid-feedback"})]),r.sendEmail?(Object(i["y"])(),Object(i["h"])("div",j,[Object(i["l"])(y,{type:"text",class:Object(i["s"])(["form-control font-azeret",{"is-invalid":a["verification"]}]),id:"verification",name:"verification",placeholder:"驗證碼",required:"",modelValue:r.info.verification,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.info.verification=e}),rules:"required|min:4|numeric"},null,8,["class","modelValue"]),Object(i["l"])(w,{name:"verification",class:"invalid-feedback"})])):Object(i["g"])("",!0),r.errorMessage?(Object(i["y"])(),Object(i["h"])("p",O,Object(i["K"])(r.errorMessage),1)):Object(i["g"])("",!0),h]})),_:1},8,["onSubmit"])):(Object(i["y"])(),Object(i["f"])(k,{key:0,class:"needs-validation",onSubmit:v.forgetPassword},{default:Object(i["T"])((function(e){var a=e.errors;return[Object(i["i"])("div",u,[Object(i["l"])(y,{type:"email",class:Object(i["s"])(["form-control font-azeret",{"is-invalid":a["email"]}]),id:"userEmail",name:"email",placeholder:"Email",required:"",modelValue:r.info.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.info.email=e}),rules:"email|required",disabled:r.sendEmail},null,8,["class","modelValue","disabled"]),Object(i["l"])(w,{name:"email",class:"invalid-feedback"})]),r.errorMessage?(Object(i["y"])(),Object(i["h"])("p",f,Object(i["K"])(r.errorMessage),1)):Object(i["g"])("",!0),p]})),_:1},8,["onSubmit"]))])])])])}a("d3b7"),a("b0c0");var y={name:"ForgetPassword",data:function(){return{sendEmail:!1,errorMessage:"",info:{email:"",verification:""}}},methods:{forgetPassword:function(){var e=this;return new Promise((function(t,a){e.$store.dispatch("updateLoading",!0);var i={email:e.info.email},n={method:"POST",url:"".concat("https://metawall-express-final.onrender.com","/api/v1/sendMail"),data:i};e.$http(n).then((function(t){e.$store.dispatch("updateLoading",!1),e.sendEmail=!0})).catch((function(t){e.$store.dispatch("updateLoading",!1),a(t.response.data.message),e.errorMessage=t.response.data.message}))}))},verification:function(){var e=this;return new Promise((function(t,a){e.$store.dispatch("updateLoading",!0);var i={method:"POST",url:"".concat("https://metawall-express-final.onrender.com","/api/v1/verification"),data:e.info};e.$http(i).then((function(t){e.$store.dispatch("updateLoading",!1);var a=t.data.user;e.$store.dispatch("updateInfo",{name:a.name,photo:a.photo,_id:a._id}),e.$store.dispatch("updateToken",a.token),e.$router.push({name:"首頁"})})).catch((function(t){e.$store.dispatch("updateLoading",!1),a(t.response.data.message),e.errorMessage=t.response.data.message}))}))}}},w=a("d959"),k=a.n(w);const x=k()(y,[["render",v]]);t["default"]=x},b0c0:function(e,t,a){var i=a("83ab"),n=a("5e77").EXISTS,r=a("e330"),s=a("9bf2").f,o=Function.prototype,c=r(o.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=r(l.exec),m="name";i&&!n&&s(o,m,{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(e){return""}}})},b997:function(e,t,a){e.exports=a.p+"img/banner.6ac7abb2.svg"}}]);
//# sourceMappingURL=chunk-24741fea.5f73672c.js.map