{"version":3,"sources":["webpack:///./src/views/SinglePost.vue?9ec9","webpack:///./src/views/SinglePost.vue","webpack:///./src/views/SinglePost.vue?3576"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_4","post","length","_createBlock","_component_NoPostsCard","message","_createVNode","_component_PostCard","$data","onUpdate","$options","$props","_component_Sidebar","_component_SidebarSm","name","components","Sidebar","SidebarSm","NoPostsCard","PostCard","data","props","id","type","String","Number","require","computed","mapGetters","created","$watch","toParams","previousParams","getSinglePost","this","methods","Promise","resolve","reject","$store","dispatch","config","method","url","process","headers","authorization","token","$http","then","res","catch","error","response","$router","push","__exports__","render"],"mappings":"kHAAA,W,oKCCWA,MAAM,wC,GACRA,MAAM,O,GACJA,MAAM,Y,uBACTC,eAQM,OARDD,MAAM,OAAK,CACdC,eAMM,OANDD,MAAM,kDAAgD,CACzDC,eAA0D,MAAtDD,MAAM,sCAAqC,UAC/CC,eAGO,OAFLD,MAAM,2DACNE,MAAA,8CALN,M,SAaMF,MAAM,Q,6KAhBlBG,eAwBU,UAxBV,EAwBU,CAvBRF,eAqBM,MArBN,EAqBM,CApBJA,eAkBM,MAlBN,EAkBM,CAjBJG,EAS4B,KAAZ,YAAAC,YAAA,eAAMC,SAAM,iBAC1BC,eAAgDC,EAAA,C,MAAlCC,QAAS,cAAvB,iBAGAN,eAEK,KAFL,EAEK,CADHO,eAA8DC,EAAA,CAAnDN,KAAMO,OAAOC,SAAM,+BAAEC,gBAAcC,SAA9C,sBAINL,eAAmBM,KAErBN,eAAuBO,K,kIAWZ,GACbC,KAAM,OACNC,WAAY,CACVC,eACAC,iBACAC,mBACAC,iBAEFC,KARa,WASX,MAAO,CACLnB,KAAM,KAGVoB,MAAO,CACLC,GAAI,CACFC,KAAM,CAACC,OAAQC,QACfC,SAAS,IAGbC,SAAU,kBACLC,eAAW,CAAC,OAAQ,WAEnBC,QAtBO,WAsBI,wJAEf,EAAKC,QACH,kBAAM,EAAKR,KADb,yDAEE,WAAOS,EAAUC,GAAjB,iGACQ,EAAKC,cAAcF,GAD3B,2CAFF,oCAAAG,KAAA,gBAMA,EAAKD,cAAc,EAAKX,IART,8CAUjBa,QAAS,CACPF,cADO,SACQX,GAAI,WACjB,OAAO,IAAIc,SAAQ,SAACC,EAASC,GAC3B,EAAKC,OAAOC,SAAS,iBAAiB,GACtC,IAAMC,EAAS,CACbC,OAAQ,MACRC,IAAK,GAAF,OAAKC,8CAAL,wBAAgDtB,GACnDuB,QAAS,CACPC,cAAe,UAAF,OAAY,EAAKC,SAGlC,EAAKC,MAAMP,GACRQ,MAAK,SAACC,GACL,EAAKjD,KAAOiD,EAAI9B,KAAKf,QACrBgC,EAAQa,EAAI9B,KAAKf,SACjB,EAAKkC,OAAOC,SAAS,iBAAiB,MAEvCW,OAAM,SAACC,GACNd,EAAOc,EAAMC,SAASjC,KAAKf,SAC3B,EAAKiD,QAAQC,KAAK,CAAEzC,KAAM,OAC1B,EAAKyB,OAAOC,SAAS,iBAAiB,Y,iCChFlD,MAAMgB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-e2a4598e.97300a8e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SinglePost.vue?vue&type=style&index=0&id=af6654f4&lang=scss&scoped=true\"","<template>\r\n  <section class=\"container mt-7 mb-7 mb-md-0 px-lg-12\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-7\">\r\n        <div class=\"row\">\r\n          <div class=\"card mb-5 rounded-0 border-2 position-relative\">\r\n            <h2 class=\"text-center fw-bold py-3 mb-0 fs-5\">查看單筆貼文</h2>\r\n            <div\r\n              class=\"position-absolute border border-dark border-2 w-100 py-4\"\r\n              style=\"z-index: -1; top: 10px; left: -6px\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <template v-if=\"post?.length === 0\">\r\n          <NoPostsCard :message=\"'目前尚無動態!'\"></NoPostsCard>\r\n        </template>\r\n        <template v-else>\r\n          <ul class=\"ps-0\">\r\n            <PostCard :post=\"post\" @update=\"getSinglePost(id)\"></PostCard>\r\n          </ul>\r\n        </template>\r\n      </div>\r\n      <Sidebar></Sidebar>\r\n    </div>\r\n    <SidebarSm></SidebarSm>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '../components/Sidebar.vue'\r\nimport SidebarSm from '../components/SidebarSm.vue'\r\nimport NoPostsCard from '../components/NoPostsCard.vue'\r\nimport PostCard from '../components/PostCard/Index.vue'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'wall',\r\n  components: {\r\n    Sidebar,\r\n    SidebarSm,\r\n    NoPostsCard,\r\n    PostCard\r\n  },\r\n  data () {\r\n    return {\r\n      post: ''\r\n    }\r\n  },\r\n  props: {\r\n    id: {\r\n      type: [String, Number],\r\n      require: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['info', 'token'])\r\n  },\r\n  async created () {\r\n    // 動態路由無法正確取得生命週期，使用watch監聽\r\n    this.$watch(\r\n      () => this.id,\r\n      async (toParams, previousParams) => {\r\n        await this.getSinglePost(toParams)\r\n      }\r\n    )\r\n    this.getSinglePost(this.id)\r\n  },\r\n  methods: {\r\n    getSinglePost (id) {\r\n      return new Promise((resolve, reject) => {\r\n        this.$store.dispatch('updateLoading', true)\r\n        const config = {\r\n          method: 'GET',\r\n          url: `${process.env.VUE_APP_APIPATH}/api/v1/post/${id}`,\r\n          headers: {\r\n            authorization: `Bearer ${this.token}`\r\n          }\r\n        }\r\n        this.$http(config)\r\n          .then((res) => {\r\n            this.post = res.data.message\r\n            resolve(res.data.message)\r\n            this.$store.dispatch('updateLoading', false)\r\n          })\r\n          .catch((error) => {\r\n            reject(error.response.data.message)\r\n            this.$router.push({ name: '首頁' })\r\n            this.$store.dispatch('updateLoading', false)\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img {\r\n  height: 50px;\r\n  width: 50px;\r\n}\r\n</style>\r\n","import { render } from \"./SinglePost.vue?vue&type=template&id=af6654f4&scoped=true\"\nimport script from \"./SinglePost.vue?vue&type=script&lang=js\"\nexport * from \"./SinglePost.vue?vue&type=script&lang=js\"\n\nimport \"./SinglePost.vue?vue&type=style&index=0&id=af6654f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\johnny\\\\Desktop\\\\metawall-front\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-af6654f4\"]])\n\nexport default __exports__"],"sourceRoot":""}